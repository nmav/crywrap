# do not edit -- automatically generated by arch changelog
# arch-tag: automatic-ChangeLog--algernon@bonehunter.rulez.org--tla/Mk--head--0.1
#

2004-01-29 18:44:17 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-46

    Summary:
      Mk.m4
    Revision:
      Mk--head--0.1--patch-46

    * Mk.m4: New file.
    * Makefile.in {EXTRA_DIST}: Added it.

    new files:
     Mk.m4

    modified files:
     ChangeLog Makefile.in


2004-01-22 22:10:54 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-45

    Summary:
      Really fixed distclean
    Revision:
      Mk--head--0.1--patch-45

    * Rules.mk.in (distclean): Really duplicate `clean' as should have
      been done in patch-39.

    modified files:
     ChangeLog Rules.mk.in


2004-01-14 14:05:52 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-44

    Summary:
      Normalizing $@
    Revision:
      Mk--head--0.1--patch-44

    * Rules.mk (_@): New canned commandset.
    
    Updated all relevant ${_subdir}$@ users to use ${_@} instead.

    modified files:
     ChangeLog Rules.mk.in


2004-01-11 18:59:42 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-43

    Summary:
      Made make dir/ work when dir has subdirs
    Revision:
      Mk--head--0.1--patch-43

    * Rules.mk.in (%/): Set DEFDESCEND to all.

    modified files:
     ChangeLog Rules.mk.in


2003-12-18 16:18:16 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-42

    Summary:
      Added EXTRA_DIST stuff
    Revision:
      Mk--head--0.1--patch-42

    * toplevel.mk {EXTRA_DIST}: Append autoconf stuff.

    modified files:
     ChangeLog toplevel.mk


2003-12-14 13:57:20 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-41

    Summary:
      MAKE_TARGET_VAR_APPEND
    Revision:
      Mk--head--0.1--patch-41

    * Rules.mk.in {MAKE_TARGET_VAR_APPEND}: New substvar.

    modified files:
     ChangeLog Rules.mk.in


2003-12-14 13:17:30 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-40

    Summary:
      Make the flex rule work for ancient flexen too
    Revision:
      Mk--head--0.1--patch-40

    * Rules.mk.in (%.l -> %.c): Run FLEX without args, so it produces
      lex.yy.c, and rename that. This works around the ancient flex on
      Solaris.

    modified files:
     ChangeLog Rules.mk.in


2003-12-13 21:43:39 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-39

    Summary:
      Fixed distclean
    Revision:
      Mk--head--0.1--patch-39

    * Rules.mk.in {CLEANFILES}: Append stuff instead of overriding.
      {DISTCLEANFILES}: Likewise.
      {MAINTCLEANFILES}: Likewise.
      {P_DISTCLEAN}: New variable.
      (distclean): Do not depend on clean, but duplicate its
      functionality. (Like maintainer-clean does.)
    * toplevel.mk {DISTCLEANFILES}: New variable, with some common stuff.
      {MAINTCLEANFILES}: Likewise.

    modified files:
     ChangeLog Rules.mk.in toplevel.mk


2003-12-13 15:25:41 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-38

    Summary:
      Simplified distdir output
    Revision:
      Mk--head--0.1--patch-38

    * Rules.mk.in (distdir): Simplified the output for the eye.

    modified files:
     ChangeLog Rules.mk.in


2003-12-13 15:19:28 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-37

    Summary:
      Fixed make dist double-run
    Revision:
      Mk--head--0.1--patch-37

    * toplevel.mk (dist): Made it a wrapper around info, distdir, and...
      (dist-pre): ..this..
      (dist-post): ..and this.

    modified files:
     ChangeLog toplevel.mk


2003-12-13 14:23:22 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-36

    Summary:
      WFLAGS_ICC update
    Revision:
      Mk--head--0.1--patch-36

    * Rules.mk.in {WFLAGS_ICC}: Added -wd279.

    modified files:
     ChangeLog Rules.mk.in


2003-12-13 14:22:15 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-35

    Summary:
      Fix ${builddir}/Makefile message
    Revision:
      Mk--head--0.1--patch-35

    * Rules.mk.in (${builddir}/Makefile): Prefix the output stuff with
      ${_subdir}.

    modified files:
     ChangeLog Rules.mk.in


2003-12-13 09:29:03 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-34

    Summary:
      Fixed make dist
    Revision:
      Mk--head--0.1--patch-34

    * Rules.mk.in (distdir): Do a ${DESCEND}, otherwise non-first-level
      directories will not be descended into.
    * toplevel.mk [VERBOSE==2] (dist-local): Only fiddle with _target in
      this case.

    modified files:
     ChangeLog Rules.mk.in toplevel.mk


2003-12-12 11:55:17 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-33

    Summary:
      Fixed make dist
    Revision:
      Mk--head--0.1--patch-33

    * toplevel.mk (dist-local): Fixed _toplevel fiddling.

    modified files:
     ChangeLog toplevel.mk


2003-12-12 11:49:32 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-32

    Summary:
      Do not clean CUSTOM_OBJECTS
    Revision:
      Mk--head--0.1--patch-32

    * Rules.mk.in {_OBJECTS}: New variable, containing what OBJECTS did,
      but without CUSTOM_OBJECTS.
      {OBJECTS}: Made it a combination of _OBJECTS and CUSTOM_OBJECTS.
      {CLEANFILES}: Clean _OBJECTS, not OBJECTS, so CUSTOM_OBJECTS will
      not get cleaned.
    
    This fixed a bug where `make subdir/clean' erased CUSTOM_OBJECTS from
    a different directory, where subdir/'s Makefile contained, say,
    `CUSTOM_OBJECTS=../foo/bar.o'. (That is, make subdir/clean cleaned
    ../foo/bar.o, and it does not do that anymore with this fix).

    modified files:
     ChangeLog Rules.mk.in


2003-12-12 10:49:35 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-31

    Summary:
      Support VERBOSE=2
    Revision:
      Mk--head--0.1--patch-31

    * Rules.mk.in: When V=2 is set, prefix all actions with (TARGET),
      where TARGET is the original target.
    * toplevel.mk (dist-local): Set _target to `(dist)'.

    modified files:
     ChangeLog Rules.mk.in toplevel.mk


2003-12-12 10:32:05 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-30

    Summary:
      Silenced P_SUB
    Revision:
      Mk--head--0.1--patch-30

    * Rules.mk.in: Prefix all output names with ${_subdir}, and make P_SUB
      silent by default (old behaviour can be restored with D=1).

    modified files:
     ChangeLog Rules.mk.in


2003-12-12 10:05:21 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-29

    Summary:
      Enhanced message upon DESCEND
    Revision:
      Mk--head--0.1--patch-29

    * Rules.mk.in {_subdir}: New variable.
      {DESCEND}: Prefix ${dir} with ${_subdir} in non-verbose mode.

    modified files:
     ChangeLog Rules.mk.in


2003-12-12 08:51:22 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-28

    Summary:
      Support deeper (>= 2 level) hierarchies
    Revision:
      Mk--head--0.1--patch-28

    * Rules.mk.in {top_builddir}: Use some magic to figure out how deep we
      are.

    modified files:
     ChangeLog Rules.mk.in


2003-12-12 08:35:20 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-27

    Summary:
      LEX_SOURCES and YACC_SOURCES support
    Revision:
      Mk--head--0.1--patch-27

    * Rules.mk.in {LEX_SOURCES}: New user variable.
      {YACC_SOURCES}: Likewise.
      {DISTFILES}: Added ${LEX_SOURCES} and ${YACC_SOURCES}.
      {LEX_OBJECTS}: New variable.
      {YACC_OBJECTS}: Likewise.
      {OBJECTS}: Added ${YACC_OBJECTS} and ${LEX_OBJECTS}
      {LEX_MIDSRCS}: New variable.
      {YACC_MIDSRCS}: Likewise.
      {CLEANFILES}: Added ${YACC_MIDSRCS} and ${LEX_MIDSRCS}.

    modified files:
     ChangeLog Rules.mk.in


2003-12-11 10:40:09 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-26

    Summary:
      Lex & Yacc updates
    Revision:
      Mk--head--0.1--patch-26

    * Rules.mk.in (%.tab.c): Remove arch-tag stuff.
      (%.tab.h): Made it a separate target, based on %.tab.c.

    modified files:
     ChangeLog Rules.mk.in


2003-12-11 10:11:14 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-25

    Summary:
      LEX & YACC stuff
    Revision:
      Mk--head--0.1--patch-25

    * Rules.mk (LEX): New substvar.
      (YACC): Likewise.
      (P_LEX): New variable.
      (P_YACC): Likewise.
      (%.c: %l): New rule.
      (%.tab.c: %.tab.y): Likewise.
      (%.tab.h: %.tab.y): Likewise.

    modified files:
     ChangeLog Rules.mk.in


2003-12-05 23:04:07 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-24

    Summary:
      Fixed -DPATCHLEVEL
    Revision:
      Mk--head--0.1--patch-24

    * Rules.mk.in {DEFINES}: Include ${UPATCHLEVEL} in -DVERSION's value
      too.

    modified files:
     ChangeLog Rules.mk.in


2003-12-05 22:11:05 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-23

    Summary:
      Fixed snapshot building
    Revision:
      Mk--head--0.1--patch-23

    * Rules.mk.in {VERSION}: Always append ${UPATCHLEVEL} to it.
      {PATCHLEVEL}: Adjusted it in one case to the above change.

    modified files:
     ChangeLog Rules.mk.in


2003-12-05 22:07:53 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-22

    Summary:
      Typo fix
    Revision:
      Mk--head--0.1--patch-22

    * Rules.mk.in (distdir): Fixed a typo in verbose mode.

    modified files:
     ChangeLog Rules.mk.in


2003-12-03 19:16:10 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-21

    Summary:
      SNAPLOG support
    Revision:
      Mk--head--0.1--patch-21

    * Rules.mk {SNAPLOG}: New variable.
      {UPATCHLEVEL}: Use it.

    modified files:
     ChangeLog Rules.mk.in


2003-12-03 10:50:46 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-20

    Summary:
      Support for setting PATCHLEVEL outside of Rules.mk
    Revision:
      Mk--head--0.1--patch-20

    * Rules.mk: Added support for setting PATCHLEVEL outside of Rules.mk.

    modified files:
     ChangeLog Rules.mk.in


2003-10-06 19:43:04 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-19

    Summary:
      Simplified snapshot handling
    Revision:
      Mk--head--0.1--patch-19

    * Rules.mk.in: Simplified snapshot handling a lot.

    modified files:
     ChangeLog Rules.mk.in


2003-10-05 15:17:51 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-18

    Summary:
      Fixed WITH_SNAPSHOT
    Revision:
      Mk--head--0.1--patch-18

    * Rules.mk.in: FIxed snapshot support yet again.

    modified files:
     ChangeLog Rules.mk.in


2003-10-05 11:42:46 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-17

    Summary:
      .snapshot-version fixes
    Revision:
      Mk--head--0.1--patch-17

    * Rules.mk.in: Get .snapshot-version from ${top_builddir}, so it will
      be known in subdirs too.

    modified files:
     ChangeLog Rules.mk.in


2003-09-20 21:39:25 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-16

    Summary:
      Pre-0 version support
    Revision:
      Mk--head--0.1--patch-16

    * Rules.mk.in (PATCHLEVEL): If PATCHLEVEL == PX, prepend a 0.pre
      before ${PX}. So we get versions like 0.2.0.pre.15.
      Not pretty, but better than 0.2..15 :)

    modified files:
     ChangeLog Rules.mk.in


2003-09-20 20:46:57 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-15

    Summary:
      Fixed ${pkgconfdir}
    Revision:
      Mk--head--0.1--patch-15

    * Rules.mk (pkgconfdir): Use ${PACKAGE} instead of ${PROGRAM}, which
      is not defined.

    modified files:
     ChangeLog Rules.mk.in


2003-09-19 18:00:29 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-14

    Summary:
      Support --with-snapshot in the dist tarball
    Revision:
      Mk--head--0.1--patch-14

    * Rules.mk.in: When WITH_SNAPSHOT is not specified, but
      .snapshot-version exists, get PATCHLEVEL from there.
      Also include .snapshot-version in the tarball.

    modified files:
     ChangeLog Rules.mk.in


2003-09-19 11:38:28 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-13

    Summary:
      CLEANFILES update
    Revision:
      Mk--head--0.1--patch-13

    * Rules.mk.in (CLEANFILES): Moved most of the stuff from clean to
      here.

    modified files:
     ChangeLog Rules.mk.in


2003-09-19 10:40:40 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-12

    Summary:
      Support CUSTOM_OBJECTS
    Revision:
      Mk--head--0.1--patch-12

    * Rules.mk.in (OBJECTS): Add ${CUSTOM_OBJECTS} to the list too.

    modified files:
     ChangeLog Rules.mk.in


2003-09-18 07:52:31 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-11

    Summary:
      Support CUSTOM_CFLAGS and CUSTOM_LDFLAGS
    Revision:
      Mk--head--0.1--patch-11

    * Rules.mk.in (ALL_CFLAGS): Append ${CUSTOM_CFLAGS}.
      (ALL_LDFLAGS): Append ${CUSTOM_LDFLAGS}.

    modified files:
     ChangeLog Rules.mk.in


2003-09-16 08:29:31 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-10

    Summary:
      ${top_builddir}/system.h
    Revision:
      Mk--head--0.1--patch-10

    * Rules.mk.in (${top_builddir}/system.h): New rule.

    modified files:
     ChangeLog Rules.mk.in


2003-09-15 10:39:14 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-9

    Summary:
      Added ChangeLog
    Revision:
      Mk--head--0.1--patch-9

    * ChangeLog: New file.
    * Makefile.in (EXTRA_DIST): Added it.

    new files:
     ChangeLog

    modified files:
     Makefile.in


2003-09-15 10:13:34 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-8

    Summary:
      Link support
    Revision:
      Mk--head--0.1--patch-8

    * Rules.mk.in (LN_S): New substvar.
      (P_LINK): New print-helper.

    modified files:
     Rules.mk.in


2003-09-15 09:06:14 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-7

    Summary:
      Fixed Makefile recreation in top-level dir
    Revision:
      Mk--head--0.1--patch-7

    * Rules.mk.in (${builddir}/Makefile): Prepend a ./ to the
      CONFIG_FILES= path.

    modified files:
     Rules.mk.in


2003-09-15 08:51:41 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-6

    Summary:
      Cleanup some distcheck mess
    Revision:
      Mk--head--0.1--patch-6

    * Rules.mk.in (ALL_CFLAGS): Use =, not :=, otherwise some stuff gets
      redefined at distcheck time.
      (ALL_LDFLAGS): Likewise.

    modified files:
     Rules.mk.in


2003-09-15 08:43:07 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-5

    Summary:
      distcheck fix
    Revision:
      Mk--head--0.1--patch-5

    * Makefile.in (EXTRA_DIST): Added toplevel.mk.

    modified files:
     Makefile.in


2003-09-15 08:34:45 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-4

    Summary:
      Updated to work with Blazerd too
    Revision:
      Mk--head--0.1--patch-4

    * Rules.mk.in: Include ${top_builddir}/config.mk - it is an
      autogenerated file now.
      [THY_SNAP]: Renamed to...
      [WITH_SNAPSHOT]: ...this.
      (CLEANFILES): Added ${PROGRAMS}.
      (${top_builddir}/Mk/Rules.mk): Use CONFIG_FILES flag when calling
      config.status.
      (${builddir}/Makefile): Likewise.
      (${top_builddir}/config.mk): New rule.

    modified files:
     Rules.mk.in


2003-09-13 19:11:04 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-3

    Summary:
      WFLAGS_29X update
    Revision:
      Mk--head--0.1--patch-3

    * Rules.mk.in (WFLAGS_29X): Removed -Wmulticharacter.

    modified files:
     Rules.mk.in


2003-09-13 18:57:11 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-2

    Summary:
      toplevel.mk
    Revision:
      Mk--head--0.1--patch-2

    * toplevel.mk: New file.

    new files:
     toplevel.mk


2003-09-13 18:56:05 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	patch-1

    Summary:
      Added code that allows make <dir>/<foo>
    Revision:
      Mk--head--0.1--patch-1

    * Rules.mk.in: Added code that allows make <dir>/<foo>.

    modified files:
     Rules.mk.in


2003-09-13 18:17:48 GMT	Gergely Nagy <algernon@bonehunter.rulez.org>	base-0

    Summary:
      Initial import
    Revision:
      Mk--head--0.1--base-0

    Initial import from thy--head--0.8, plus some generalisation.

    new files:
     Makefile.in Rules.mk.in


